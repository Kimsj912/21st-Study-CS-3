# 5.2 간단한 펄 웹 서버

완전한 HTTP 서버를 만들고자 한다면 해야할 일이 정말 많다. 당시 아파치 웹 서버의 코어는 50,000줄이 넘는 코드로 되어 있었다고 한다. HTTP/1.1의 기능들을 제공하려면 풍부한 리소스 지원, 가상 호스팅, 접근 제어, 로깅, 설정, 모니터링, 그 외 성능을 위한 각종 기능들이 필요하다. 그러나 최소한으로 기능하는 HTTP 서버라면 30줄 이하의 [펄(Perl)](https://www.perl.org/) 코드로도 만들 수 있다.

책에서는 'type-o-server.pl'라는 작은 perl 프로그램의 코드를 보여준다. 이 프로그램은 클라이언트와 프락시 간의 상호작용 테스트에 유용한 진단 툴이다. 그리고 다른 웹 서버와 마찬가지로 HTTP 커넥션을 기다린다. 이 프로그램이 웹 서버를 흉내내는 방식은, HTTP 요청 메시지를 정확하게 기록하고 어떤 HTTP 응답 메시지라도 돌려보내줄 수 있도록 해준다.

![type-o-server를 이용한 HTTP 통신 방법](https://user-images.githubusercontent.com/75570915/206895322-08a2d44a-5412-4e29-855d-294093c19eb1.png)

- 'type-o-server'가 동작하기 시작하면, 브라우저는 이 웹 서버에 접근할 수 있다. 그러면 우리는 그림과 같이 'https://useonglee.dev' 에 접근할 수 있다.
- 'type-o-server' 프로그램은 브라우저로부터 HTTP 요청을 받아 화면에 출력한 뒤, 마침표로 끝나는 간단한 응답 메시지를 입력할 떄까지 기다린다.
- 'type-o-server'는 HTTP 응답 메시지를 브라우저에게 돌려주고, 브라우저는 응답 메시지의 본문을 출력한다.