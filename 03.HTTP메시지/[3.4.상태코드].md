# 상태코드

## 상태코드란?

HTTP 요청이 성공적으로 완료되었는지 알려주는 3자리의 숫자 코드를 말한다.

### 100번대 코드 : 정보성 상태 코드

- http/1.1에서 도입(비교적 새삥)

| 상태코드 | 사유 구절           | 의미                                                                                                                                   |
| -------- | ------------------- | -------------------------------------------------------------------------------------------------------------------------------------- |
| 100      | Continue            | - 요청의 시작 부분 일부가 받아들어짐.(클라이언트가 나머지를 계속 보내야함)<br>  - 이를 보낸 뒤 서버는 반드시 요청을 받아 응답해야한다. |
| 101      | Switching Protocols | - 서버가 프로토콜을 바꿨음을 의미  - 클라이언트가 업그레이드 헤더에 나열한 것 중 하나                                                  |

<br>

### 200번대 코드 : 성공 상태 코드

| 상태코드 | 사유 구절                     | 의미                                                                                                                                                                                                                                                                           |
| -------- | ----------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| 200      | OK                            | - 정상 요청의 의미  - 응답 본문     - 요청된 리소스를 포함                                                                                                                                                                                                                     |
| 201      | Created                       | - 서버 개체를 생성하라는 요청하라는 의미 (PUT 요청에서 사용됨)  - 해당 상태 코드를 보내기 전에 서버는 반드시 객체를 생성해야 함.  - 응답 본문     - 생성된 리소스에 대한 최대한 구체적인 참조가 담긴 로케이션 헤더     - 생성된 리소스를 참조할 수 있는 여러 URL을 포함해야 함 |
| 202      | Accepted                      | - 요청이 받아들여졌으나 서버가 아직 그에 대한 어떤 동작도 수행하지 않음을 의미  - 단지 요청을 받아들이기 적합해 보인다는 의미일 뿐 완료할 수 있으리란 보장은 없다                                                                                                              |
| 203      | Non-Authoritative Information | - 중개자가 리소스의 사본을 갖고 있었지만 리소스에 대한 메타 정보(헤더)를 검증하지 못한 경우를 의미  - 필수로 사용되어야할 필요는 없다.                                                                                                                                         |
| 204      | No Content                    | - 주로 웹 브라우저를 새 문서로 이동시키지 않고 갱신하고자 함을 의미(ex. form을 리프레시)  - 응답 본문     - 헤더와 상태줄만 있고 본문은 없다.                                                                                                                                  |
| 205      | Reset Content                 | - 웹 브라우저에게 폼에 있는 모든 값을 비우라는 의미  - 응답 본문     - 헤더와 상태줄만 있고 본문은 없다.                                                                                                                                                                       |
| 206      | Partial Content               | - 부분 혹은 범위 요청이 성공함을 의미  - Content-Rage와 Date 헤더를 반드시 포함해야하고, Etag와 Content-Location중 하나의 헤더도 반드시 포함해야 함.                                                                                                                           |

### 300번대 코드 : 리다이렉션 상태 코드

- 클라이언트가 관심있어하는 리소스에 대해 다른 위치를 사용하라고 말해주거나 그 리소스 내용 대신인 응답을 제공 시 사용하는 상태 코드
- EX. 리소스가 옮겨짐 -> 옮겨진 리소스에 대한 위치를 리다이렉션 상태코드와 Location헤더로 보내줌(사용자가 안건드려도 브라우저가 알아서 새 위치로 이동)

| 상태코드 | 사유 구절          | 의미                                                                                                                                                                                                                                                                                                               |
| -------- | ------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| 300      | Multiple Choices   | - 클라이언트가 동시에 여러 리소스를 가리키는 URL을 요청한 경우 그 리소스의 목록과 함께 반환하는 코드  - 사용자는 그 목록 중 하나를 택할 수 있다 EX. 어떤 서버가 하나의 HTML문서를 영어와 프랑스어 모두로 제공할 수 있는 경우 사용자가 버전을 택할 수 있다.                                                         |
| 301      | Moved Permanently  | - 요청한 리소스의 URI가 변경되었음을 의미  - 응답은 로케이션 헤더에 현재 리소스가 존재하고 있는 URL을 포함                                                                                                                                                                                                         |
| 302      | Found              | - 요청한 리소스의 URI가 일시적으로 변경되었음을 의미  - 301 상태코드와 동일하지만, 로케이션 헤더로 주어진 URL을 리소스를 임시로 가리키기 위한 목적일 때 사용  - 이후 요청에서는 원래 URL을 사용해야 한다.  - 새롭게 변경된 URI는 나중에 만들어질 수 있으므로 클라이언트는 향후의 요청도 반드시 동일한 URI로 해야함 |
| 303      | See Other          | - 클라이언트가 요청한 리소스를 다른 URI에서 GET요청을 통해 얻어야 할 때 서버가 클라이언트로 직접 보내는 응답                                                                                                                                                                                                       |
| 304      | Not Modified       | - 클라이언트에게 응답이 수정되지 않았음을 알려주며 클라이언트는 계속해서 응답의 캐시된 버전을 사용할 수 있음을 의미 - 캐시를 목적으로 사용                                                                                                                                                                         |
| 305      | Use Proxy          | - 이전 버전의 HTTP 기술 사양에서 정의되었으며, 요청한 응답은 반드시 프록시를 통해서 접속해야 하는 것을 알림  - 프록시의 in-band 설정에 대한 보안상의 걱정으로 인해 사라져가고 있다                                                                                                                                 |
| 306      | unused             | - 이 응답 코드는 더이상 사용되지 않으며, 현재는 추후 사용을 위해 예약됨.  - 이것은 HTTP 1.1 기술사양 이전 버전에서 사용되었었다.                                                                                                                                                                                   |
| 307      | Temporary Redirect | - 301 상태코드와 동일하지만, 로케이션 헤더로 주어진 URL을 리소스를 임시로 가리키기 위한 목적일 때 사용  - 이후 요청에서는 원래 URL을 사용해야 한다.  - 302와 유사하나 HTTP/1.1에 맞춰 사용                                                                                                                         |

### 400번대 코드 : 클라이언트 상태 코드

- 서버가 다룰 수 없는 무엇인가를 보냈거나 존재하지 않는 URL에 대해 요청하는 등 **클라이언트 측의 문제**로 성공적인 요청에 대한 응답이 어려울 경우 사용되는 상태코드
- 대부분은 브라우저에 의해 처리되고 404 Not Found와 같은 경우 실사용자에게도 전달된다.
  | 상태코드 | 사유 구절 | 의미 |
  | --- | --- | --- |
  | 400 | Bad Request | - 잘못된 문법으로 인하여 서버가 요청을 이해할 수 없음을 의미 |
  | 401 | Unauthorized | - 리소스를 얻기 전에 클라이언트에게 스스로 인증하라고 요구하는 내용의 응답을 적절한 헤더와 함께 반환한 것 |
  | 402 | Payment Required | - 이 응답 코드는 더이상 사용되지 않으며, 현재는 추후 사용을 위해 예약됨.  - 디지털 결제 시스템을 위해 만들어졌지만(그래서 Payment Required) 지금은 사용되지 않는다 |
  | 403 | Forbidden | - 콘텐츠에 접근할 권리가 없음을 의미  - 보통은 본문에 왜 거절당했는지 적어보내주지만 그 이유를 설명하고 싶지 않을 때 해당 상태코드를 사용 |
  | 404 | Not Found | - 요청받은 리소스를 찾을 수 없음을 의미 |
  | 405 | Method Not Allowd | - 지원하지 않는 메서드(서버가 알고는 있지만 제거되었거나 사용되지 않는 경우)로 요청을 받았을 때 사용 EX. 어떤 리소스를 삭제하는 것을 금지할 수 있다 |
  | 406 | Not Acceptable | - 자신이 어떤 종류의 엔터티를 받아들이고자 하는지에 대해 매개변수로 명시  - 주어진 URL에 대한 리소스 중 클라이언트가 받아들일 수 ㅇ있는 것이 없는 경우 사용  - 클라이언트에게 왜 요청이 만족될 수 없는지 알려주는 헤더를 포함 |
  | 407 | Proxy Authentication Request | - 401과 마찬가지로 리소스를 얻기 전에 클라이언트에게 스스로 인증하라고 요구하는 내용의 응답을 적절한 헤더와 함께 반환한 것 - 그러나 리소스에 대한 인증을 요구하는 프락시 서버를 위해 사용 |
  | 408 | Request Timeout | - 클라이언트의 요청을 완수하기에 시간이 너무 오래 걸리는 경우 사용  - 해당 코드로 응답한 이후 서버는 연결을 끊을 수 있다  - 타임아웃의 기간은 서버마다 다르지만 대부분은 어떠한 적법한 요청도 받아들일 수 있을 정도로 충분히 길다 |
  | 409 | Conflict | - 클라이언트의 요청이 리소스에 대해 일을킬 수 있는 몇몇 충돌을 지칭하기 위해 사용 |
  | 410 | Gone | - 404와 비슷하나, 서버가 한 때 그 리소스를 갖고있었을 경우 사용 |
  | 411 | Length Required | - 서버에서 필요로 하는 Content-Length 헤더 필드가 정의되지 않은 요청이 들어왔기 때문에 서버가 요청을 거절 시 사용 |
  | 412 | Precondition Failed | - 클라이언트의 헤더에 있는 전제 조건이 서버의 전제조건에 적절하지 않을 경우 발생 |
  | 413 | Request Entity Too Large | - 클라이언트에서 서버가 처리할 수 있는 길이의 요청을 넘어선 엔티티가 포함된 요청을 보냈을 때 사용 |
  | 414 | Request URI Too Long | - 클라이언트에서 서버가 처리할 수 있는 길이의 요청을 넘어선 URL이 포함된 요청을 보냈을 때 사용 |
  | 415 | Unsupported Media Type | - 클라이언트에서 서버가 지원하지않은 미디어 포맷을 요청했을 경우 사용  - 이후 서버는 해당 요청을 거절한다 |
  | 416 | Requested Range Not Satisfied | - Range 헤더 필드에 요청한 지정 범위를 만족시킬 수 없음을 의미  - 범위가 타겟 URI 데이터의 크기를 벗어났을 경우 사용 |
  | 417 | Exception Failed | - 이 응답 코드는 Expect 요청 헤더 필드로 요청한 예상이 서버에서는 적당하지 않음을 알려줄 때 사용 |

### 500번대 코드 : 서버 상태 코드

- 클라이언트가 서버의 제한에 걸리거나 게이트웨이 리소스와 같은 서버의 보조 구성요소에서 발생한 에러 등 **서버 자체에서 발생한 경우** 사용되는 상태코드
- 프락시에서도 클라이언트의 입장에서 500번대 에러를 자주 만나게 된다.

| 상태코드 | 사유 구절                  | 의미                                                                                                                                                                                                                                                                                                                       |
| -------- | -------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 500      | Internal Server Error      | - 서버가 처리할 수 없는 요청을 만났을 때 사용                                                                                                                                                                                                                                                                              |
| 501      | Not Implemented            | - 클라이언트가 서버의 능력을 넘은 요청을 했을 때 사용                                                                                                                                                                                                                                                                      |
| 502      | Bad Gateway                | - 서버가 요청을 처리하는 데 필요한 응답을 얻기 위해 게이트웨이로 작업하는 동안 잘못된 응답을 수신했음을 의미                                                                                                                                                                                                               |
| 503      | Service Unavailabe         | - 현재는 서버가 요청을 처리해줄 수 없지만 나중에는 가능함을 의미<br>- 만약 서버가 언제 그 리소스를 사용할 수 있게 될지 알고 있다면 서버는 Retry-After 헤더를 응답에 포함시킬 수 있다<br>- 웹마스터는 또한 이러한 일시적인 조건 응답을 캐시하지 않아야 하므로 이 응답과 함께 전송되는 캐싱 관련 헤더에 대해서도 주의해야 함 |
| 504      | Gateway Timeout            | - 서버가 게이트웨이 역할을 하고 있으며 적시에 응답을 받을 수 없을 때 사용                                                                                                                                                                                                                                                  |
| 505      | HTTP Version Not Supported | - 요청된 HTTP 버전은 서버에서 지원하지 않음을 의미                                                                                                                                                                                                                                                                         |

# 정리하기

1xx(정보) : 요청을 받았으며 프로세스를 계속 진행합니다.<br>
2xx(성공) : 요청을 성공적으로 받았으며 인식했고 수용하였습니다.<br>
3xx(리다이렉션) : 요청 완료를 위해 추가 작업 조치가 필요합니다.<br>
4xx(클라이언트 오류) : 요청의 문법이 잘못되었거나 요청을 처리할 수 없습니다.<br>
5xx(서버 오류) : 서버가 명백히 유효한 요청에 대한 충족을 실패했습니다.<br>
